# FRP с QUIC протоколом

Настроенная конфигурация FRP сервера и клиента с поддержкой QUIC для быстрой передачи файлов.

## Особенности конфигурации

### QUIC протокол
- Включен QUIC для максимальной скорости передачи данных
- Настроены оптимальные параметры keepalive и timeout
- Включено сжатие и шифрование для безопасности

### Проксирование портов
- **HTTP**: локальный порт 80 → удаленный порт 4080
- **HTTPS**: локальный порт 443 → удаленный порт 4443
- **Важно**: все порты привязаны к 127.0.0.1 (localhost), НЕ к 0.0.0.0

## Запуск

### Ручной запуск:
```bash
# Сервер
./start-server.sh

# Клиент  
./start-client.sh
```

### Установка в автозапуск:
```bash
# Установить FRP как системный сервис
sudo ./install-autostart.sh

# Управление сервисами
./manage-frp.sh

# Удалить из автозапуска
sudo ./uninstall-autostart.sh
```

### Управление systemd сервисами:
```bash
# Запуск/остановка
sudo systemctl start frps    # запустить сервер
sudo systemctl stop frps     # остановить сервер
sudo systemctl start frpc    # запустить клиент
sudo systemctl stop frpc     # остановить клиент

# Статус
sudo systemctl status frps   # статус сервера
sudo systemctl status frpc   # статус клиента

# Логи
journalctl -u frps -f        # логи сервера
journalctl -u frpc -f        # логи клиента
```

## Доступ к веб-интерфейсу
- URL: http://127.0.0.1:7500
- Логин: admin
- Пароль: admin

## Проверка работы

После запуска сервера и клиента:

1. **Проверка HTTP**: `curl http://127.0.0.1:4080`
2. **Проверка HTTPS**: `curl https://127.0.0.1:4443`

## Логи
- **Ручной запуск**: `./frps.log`, `./frpc.log`
- **Системный сервис**: `/var/log/frp/frps.log`, `/var/log/frp/frpc.log`
- **Системные логи**: `journalctl -u frps -f`, `journalctl -u frpc -f`

## Безопасность
- Все соединения привязаны к localhost (127.0.0.1)
- Включено шифрование трафика
- Включено сжатие для экономии трафика
- Логирование всех операций

## Настройка для продакшена

Для использования в продакшене измените в `frpc.toml`:
- `serverAddr` на IP адрес вашего сервера
- При необходимости измените порты в секциях `[[proxies]]`